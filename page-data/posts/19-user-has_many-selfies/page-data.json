{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/19-user-has_many-selfies/","webpackCompilationHash":"f3fef4f01b7ec69c9efb","result":{"data":{"site":{"siteMetadata":{"title":"Charlie Massry","author":"Charlie Massry"}},"markdownRemark":{"id":"f03fcd8b-f7dc-5bac-a4ad-9e8141bb162b","excerpt":"When creating a self referential join through another table, you must think of each entry as a new row even if two of the columns have the same number, but inâ€¦","html":"<p>When creating a self referential join through another table, you must think of each entry as a new row even if two of the columns have the same number, but in reverse position. For example, if you are creating an app where a user is a follower of other users that may or may not follow him, you must have two rows, one where the follower is person A and the following is person B, and the second where the follower is person B and the following is person A.</p>\n<p>This can be problematic to think of in terms of what each column should be called, but you can find this out through trial and error in Ruby on Rails by listing the methods that your model responds to, and sorting by that alphabetically on each line through the Rails console.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">class User &lt; ActiveRecord::Base\n  ...\n  has_many :followed_user_relationships,\n    class_name: &quot;FollowingRelationship&quot;,\n    foreign_key: :follower_id\n    has_many :followed_users,\n    through: :followed_user_relationships\n  ...\nend</code></pre></div>\n<p>This code would give you the ability to look at the users that are following you by calling the method <code class=\"language-text\">followed_users</code>. You can then manipulate that data by linking to their page or displaying some type of information about them.</p>","frontmatter":{"title":"User has_many selfies","date":"July 16, 2014"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/19-user-has_many-selfies/","previous":{"fields":{"slug":"/posts/18-to_param-the-best-method-ever/"},"frontmatter":{"title":"to_param, the Best Method Ever","id":18}},"next":{"fields":{"slug":"/posts/20-polymorphism-very-difficult-or-suprisingly-simple/"},"frontmatter":{"title":"Polymorphism, Very Difficult? Or Suprisingly Simple?","id":20}}}}}