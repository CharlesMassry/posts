{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/5-the-sql-is-never-as-good-as-the-original/","webpackCompilationHash":"2dce4ec31986faad0911","result":{"data":{"site":{"siteMetadata":{"title":"Charlie Massry","author":"Charlie Massry"}},"markdownRemark":{"id":"2e5d78d2-f090-5c9b-aec9-e02beb949478","excerpt":"Writing in SQL can be daunting at first, but the more you practice the more it seems like it’s its own programming language. For example, the  statement can be…","html":"<p>Writing in SQL can be daunting at first, but the more you practice the more it seems like it’s its own programming language. For example, the <code class=\"language-text\">SELECT</code> statement can be confusing as to what it actually does but when you realize it is the equivalent of the return statement in many languages it started to make sense. Another thing to worry about is the columns of the table I like to think of it as a hash or dictionary, where the key is the column name and the value is what is in each row’s corresponding column.</p>\n<p>One main problem I kept running into was using <code class=\"language-text\">JOIN</code> tables. I finally realized that the table with the foreign key is the table that gets joined to the main table.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT galleries.name, images.name\nFROM galleries\nJOIN images ON galleries.id = images.gallery_id;</code></pre></div>\n<p>This would return a seemingly new table with the gallery name linked to its corresponding image name. You can further refine the results using <code class=\"language-text\">WHERE</code> to enter a conditional and <code class=\"language-text\">LIKE</code> or <code class=\"language-text\">ILIKE</code> to search text similar to a regular expression.</p>\n<p>Another powerful SQL is a collection of methods called “aggregate functions”. These so called functions are very similar to the functions or methods of conventional programming languages like Javascript or Ruby. These can be functions such as <code class=\"language-text\">SUM</code> which can return the sum of the column, or <code class=\"language-text\">COUNT</code> which can return how many of a particular query would be returned. One problem with these functions is if you want to return at least an additional column along with the aggregate function you must use the <code class=\"language-text\">GROUP BY</code> clause. Also, if you are returning multiple columns you must specify it in the group clause when using aggregate functions.</p>\n<p>The most difficult problem I ran into was finding the first unique name in a join table. To do this you must use the <code class=\"language-text\">SELECT DISTINCT ON(x)</code> statement, where x is the distinct element that you want. One note with this is your <code class=\"language-text\">ORDER BY</code> argument must match the distinct element that you passed in.</p>","frontmatter":{"title":"The SQL is Never as Good as the Original","date":"June 24, 2014"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/5-the-sql-is-never-as-good-as-the-original/","previous":{"fields":{"slug":"/posts/4-recursion-loop/"},"frontmatter":{"title":"Recursion != Loop","id":4}},"next":{"fields":{"slug":"/posts/6-when-in-doubt-restart-your-server/"},"frontmatter":{"title":"When in Doubt, Restart Your Server","id":6}}}}}